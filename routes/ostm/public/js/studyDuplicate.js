!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}({10:function(e,t,n){"use strict";var r=document.getElementById("currentStudyName"),o=document.getElementById("new_studyName"),s=document.getElementById("studybackgroundColor"),u=document.getElementById("studyTextColor"),a=(document.getElementById("shuffleDecks"),document.getElementById("shuffleAll"),document.getElementById("setSizes"),document.getElementById("refreshRateMS"),document.getElementById("deckConfiguration"),document.getElementById("msgResult"));l(document.getElementById("source_studyName").firstElementChild.text);function l(e){var t;return(t="/ostm/manage/studies/"+e,new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.onload=function(){200==r.status?e(JSON.parse(r.response)):n(Error(r.statusText))},r.onerror=function(){n(Error("Network Error"))},r.send()})).then(function(e){var t=e;s.innerText=t.studybackgroundColor,r.innerText=t.studyName,u.innerText=t.studyTextColor,shuffleBlocks.innerText=t.shuffleBlocks}).catch(function(e){r.innerText="Error: "+e.message,s.innerText="Something went wrong!",u.innerText="It is likely your file no longer exists.",console.log("Error: "+e.message)}),!0}window.updateOnChange=function(){l(document.getElementById("source_studyName").value)},window.studyDuplicate=function(){try{var e={currentStudyName:r.innerText,source_studyName:document.getElementById("source_studyName").value,new_studyName:o.value},t=new XMLHttpRequest;t.open("POST","/ostm/manage/study/duplicate",!0),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(e,null,2)),t.onreadystatechange=function(){return 4==t.readyState&&201==t.status?(a.innerHTML="<p>Study Created!</><p>We suggest you:<ul><li>leave this page open</li><li>open a new browser tab</li><li>Do any other setup on the new tab</li></ul></p>",a.style.display="block",a.className="msgResult-success",!0):4==t.readyState&&404==t.status?(a.innerHTML="<p>A required file on the server was not found, contact your supervisor</p>",a.style.display="block",a.className="msgResult-error",!1):4==t.readyState&&409==t.status?(a.innerHTML="<p>You must choose another studyName, this one is already in use</p>",a.style.display="block",a.className="msgResult-error",!1):4==t.readyState&&412==t.status?(a.innerHTML=t.responseText,a.style.display="block",a.className="msgResult-error",!1):4==t.readyState&&500==t.status?(a.innerHTML=t.responseText,a.style.display="block",a.className="msgResult-error",!1):void 0}}catch(e){a.innerHTML="<p>So here is the thing, we dont actually know what happened. Some kind of error I guess!!</p>",a.style.display="block",a.className="msgResult-error"}}}});
//# sourceMappingURL=studyDuplicate.js.map